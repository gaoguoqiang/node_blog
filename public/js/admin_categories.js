window.onload=function(){Vue.component("my-component",{template:'        <tr>            <td v-text="category._id"></td>            <td v-if="onOff" v-text="category.name"></td>            <td v-else><input class="form-control" type="text" v-model="category.name"></td>            <td v-if="onOff">                <a @click="onOff=false" href="javascript:;">修改</a> |                <a @click="del" href="javascript:;">删除</a>            </td>            <td v-else>                <a @click="save" href="javascript:;">保存</a> |                <a @click="cancel" href="javascript:;">取消</a>            </td>        </tr>        ',props:["category"],data:function(){return{onOff:!0}},methods:{save:function(){var t=this;window.location.href="/admin/category/edit?id="+t.category._id+"&name="+t.category.name},cancel:function(){this.onOff=!0,this.$emit("getData")},del:function(){var t=this;window.location.href="/admin/category/remove?id="+t.category._id}}});var t=new Vue({el:"#app1",data:{categories:null,page:0,pages:0,limit:0,count:0},methods:{getData:function(t){var a=this,e=t?"/api/category/categoryList?page="+t.page:"/api/category/categoryList";$.ajax({type:"post",url:e,success:function(t){a.categories=t.categories,a.page=t.page,a.pages=t.pages,a.limit=t.limit,a.count=t.count}})}}});t.getData()};